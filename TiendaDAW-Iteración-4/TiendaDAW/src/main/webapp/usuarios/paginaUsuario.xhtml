<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="jakarta.faces.facelets"
      xmlns:h="jakarta.faces.html"
      xmlns:c="jakarta.tags.core">

<ui:composition template="/WEB-INF/templates/layout.xhtml">
    <ui:param name="l" value="#{request.remoteUser}" ></ui:param>
    <ui:define name="contenido">
        #{ctrlUsuarios.recuperaConEmail(l)}
        <div class="container px-1 px-lg-1 my-1">
            <!--<section class="vh-100"></section>-->
            <section style="background-color: #eee;">

                <div class="container py-5">

                    <div class="row">
                        <div class="col-lg-4">
                            <div class="card mb-4">
                                <div class="card-body text-center">
                                    <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3.webp"
                                         alt="avatar"
                                         class="rounded-circle img-fluid" style="width: 150px;"></img>
                                    <h5 class="my-3">#{request.remoteUser}</h5>
                                </div>

                                <br>
                                <div class="row text-center">
                                    <div>
                                        <a class="btn btn-success btn-lg btn-block" href="../ventas/listadoComprasUsuario.xhtml">Compras del Usuario</a>
                                    </div>
                                </div>
                                </br>
                            </div>

                        </div>
                        <div class="col-lg-8">
                            <div class="card mb-4">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <p class="mb-0">Correo</p>
                                        </div>
                                        <div class="col-sm-9">
                                            <p class="text-muted mb-0">#{ctrlUsuarios.usuario.email}</p>
                                        </div>

                                    </div>
                                    <hr></hr>
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <p class="mb-0">Contraseña</p>
                                        </div>
                                        <div class="col-sm-9">
                                            <p class="text-muted mb-0">#{ctrlUsuarios.usuario.contraseña}</p>
                                        </div>
                                    </div>

                                    <hr></hr>
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <p class="mb-0">Nombre</p>
                                        </div>
                                        <div class="col-sm-9">
                                            <p class="text-muted mb-0">#{ctrlUsuarios.usuario.nombre}</p>
                                        </div>
                                    </div>
                                    <hr></hr>
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <p class="mb-0">Dirección</p>
                                        </div>
                                        <div class="col-sm-9">
                                            <p class="text-muted mb-0">#{ctrlUsuarios.usuario.direccion}</p>
                                        </div>
                                    </div>
                                    <hr></hr>
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <p class="mb-0">Tarjeta</p>
                                        </div>
                                        <div class="col-sm-9">
                                            <p class="text-muted mb-0">#{ctrlUsuarios.usuario.tarjeta}</p>
                                        </div>

                                    </div>
                                    <hr></hr>
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <p class="mb-0">Admin</p>
                                        </div>
                                        <div class="col-sm-9">
                                            <p class="text-muted mb-0">#{ctrlUsuarios.usuario.admin}</p>
                                        </div>

                                    </div>

                                </div>
                            </div>
                            <c:if test="#{request.isUserInRole('ADMINISTRADORES')!=false}">
                            <div class="row">
                                <ui:decorate template="/WEB-INF/templates/operacionesCRUD.xhtml">
                                    <ui:param name="titulo" value="Insertar Entidades"/>
                                    <ui:param name="usuario" value="Insertar Usuario"/>
                                    <ui:param name="pagUsuario" value="#{request.contextPath}/usuarios/insertar.xhtml"/>
                                    <ui:param name="producto" value="Insertar Producto"/>
                                    <ui:param name="pagProducto" value="#{request.contextPath}/productos/insertar.xhtml"/>
                                    <ui:param name="compra" value="Insertar Venta"/>
                                    <ui:param name="pagCompra" value="#{request.contextPath}/ventas/insertar.xhtml"/>
                                </ui:decorate>
                                <ui:decorate template="/WEB-INF/templates/operacionesCRUD.xhtml">
                                    <ui:param name="titulo" value="Visualizar Entidades"/>
                                    <ui:param name="usuario" value="Listado de Usuarios"/>
                                    <ui:param name="pagUsuario" value="#{request.contextPath}/usuarios/listadoUsuarios.xhtml"/>
                                    <ui:param name="producto" value="Listado de Productos"/>
                                    <ui:param name="pagProducto" value="#{request.contextPath}/productos/listadoProductos.xhtml"/>
                                    <ui:param name="compra" value="Listado de Ventas"/>
                                    <ui:param name="pagCompra" value="#{request.contextPath}/ventas/listadoVentas.xhtml"/>
                                </ui:decorate>
                            </div>
                            </c:if>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </ui:define>
</ui:composition>
</html>
